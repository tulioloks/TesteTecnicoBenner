<Window x:Class="TesteTecnicoBenner.Views.Pedidos.PedidoView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Cadastro de Pedido"
        Height="720" Width="1000"
        WindowStartupLocation="CenterScreen"
        Closing="PedidoView_Closing">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Seleção -->
            <RowDefinition Height="*"/>
            <!-- Itens do pedido -->
            <RowDefinition Height="Auto"/>
            <!-- Finalização -->
        </Grid.RowDefinitions>

        <!-- Seleção de cliente e produto -->
        <GroupBox Header="Informações do Pedido" Grid.Row="0" Margin="0,0,0,10">
            <StackPanel Orientation="Horizontal" Margin="10">
                <StackPanel Margin="5">
                    <TextBlock Text="Cliente"/>
                    <ComboBox x:Name="cbClientes" Width="250" DisplayMemberPath="Nome" SelectionChanged="cbClientes_SelectionChanged"/>
                </StackPanel>
                <StackPanel Margin="5">
                    <TextBlock Text="Produto"/>
                    <ComboBox x:Name="cbProdutos" Width="250" DisplayMemberPath="Nome"/>
                </StackPanel>
                <StackPanel Margin="5">
                    <TextBlock Text="Quantidade"/>
                    <TextBox x:Name="txtQuantidade" Width="100"/>
                </StackPanel>
                <StackPanel Margin="5" VerticalAlignment="Bottom">
                    <Button Content="Adicionar Produto" Width="150" Margin="0,0,0,5" Click="AdicionarProduto_Click"/>
                    <Button Content="Limpar Produtos" Width="150" Click="LimparProdutos_Click"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>

        <!-- Grid de itens do pedido -->
        <GroupBox Header="Itens do Pedido" Grid.Row="1" Margin="0,0,0,10">
            <DataGrid x:Name="dgItensPedido"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      CanUserAddRows="False"
                      Height="300"
                      Margin="5">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Produto" Binding="{Binding Produto.Nome}" Width="200"/>
                    <DataGridTextColumn Header="Código" Binding="{Binding Produto.Codigo}" Width="100"/>
                    <DataGridTextColumn Header="Valor Unitário" Binding="{Binding Produto.Valor, StringFormat=F2}" Width="120"/>
                    <DataGridTextColumn Header="Quantidade" Binding="{Binding Quantidade}" Width="100"/>
                    <DataGridTextColumn Header="Subtotal" Binding="{Binding Subtotal, StringFormat=F2}" Width="120"/>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>

        <!-- Finalização -->
        <GroupBox Header="Finalização" Grid.Row="2">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
                <ComboBox x:Name="cbFormaPagamento" Width="150" Margin="5">
                    <ComboBoxItem Content="Dinheiro"/>
                    <ComboBoxItem Content="Cartão"/>
                    <ComboBoxItem Content="Boleto"/>
                    <ComboBoxItem Content="Pix"/>
                </ComboBox>

                <TextBlock x:Name="txtValorTotal" Width="150" Margin="5" Text="Total: R$ 0.00"/>

                <Button x:Name="btnSalvar" Content="Salvar Pedido" Width="150" Margin="5" Click="SalvarPedido_Click"/>
                <Button x:Name="btnFinalizar" Content="Finalizar" Width="150" Margin="5" Click="FinalizarPedido_Click"/>
            </StackPanel>
        </GroupBox>
    </Grid>
</Window>
